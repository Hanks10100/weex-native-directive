[Proposal](https://github.com/Hanks10100/incubator-weex/issues/1)

# 长列表的回收复用方案

## 需求背景

+ 长列表（无限列表）在移动端很常见，会消耗大量渲染时间和内存，通常是性能瓶颈。
+ 长列表中有大量节点不在可视区，回收并复用这些节点可以减少内存占用和创建新列表时的开销。
+ 在 Weex 场景下，列表的渲染由前端框架实现，原生端无法介入此渲染过程，很难实现复用。

为了提升渲染性能，可以考虑提供新的渲染长列表的方式。

## 设计方案

设计思路：

+ 前端框架中不将长列表展开，而是将列表数据和子节点的结构发送到客户端。
+ 客户端根据数据和子节点的结构渲染生成列表，并且实现节点的回收和复用。

具体来讲，Vue 和 Rax 等上层框架遇到列表数据时，不再循环生成多个 Virtual DOM 节点，而是将【数据】和【模板】发送给客户端。

## 总结

**这个特性并不破坏现有语法，是向后兼容的。**

**对页面和组件的开发方式有些影响，整体上讲是更强调【数据驱动】和【声明式】的开发方式了。** 如果项目中存在从 UI 中获取数据或者是命令式创建节点的写法，将很难使用当前提到的优化方案。
